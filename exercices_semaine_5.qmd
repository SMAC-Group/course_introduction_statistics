---
title: "Exercices Semaine 5"
format:
  html:
    html-math-method: mathjax
    includes:
      in_header: |
        <script type="text/javascript" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
        </script>
toc: false
editor: source
---

```{r, echo = FALSE, results='asis'}
knitr::opts_chunk$set(echo = FALSE)

# Uncomment to change widget colours:
#style_widgets(incorrect = "goldenrod", correct = "purple", highlight = "firebrick")
```

```{r}

add_backslashes <- function(input_string) {
  # Use regular expressions to replace single backslashes with double backslashes
  result <- gsub("\\\\", "\\\\\\\\", input_string)
  return(result)
}


longmcq2 <- function(opts) {
  
  
  
  ix <- which(names(opts) == "answer")
  if (length(ix) == 0) {
    stop("The question has no correct answer")
  }
  
  # Encode special characters
  opts2 <- gsub("\'", "&apos;", opts, fixed = TRUE)
  
  # Add mathjax wrapper to LaTeX expressions (fix regex)
  opts2 <- gsub("\\\\\\((.*?)\\\\\\)", "\\\\(\\1\\\\)", opts2)  # Wrap LaTeX expressions correctly
  
  # Generate a unique name for the radio buttons
  qname <- paste0("radio_", paste(sample(LETTERS, 10, T), collapse = ""))
  options <- sprintf('<label><input type="radio" autocomplete="off" name="%s" value="%s"></input> <span>%s</span></label>', qname, names(opts), opts2)
  
  # HTML format for display
  html <- paste0("<div class='webex-radiogroup' id='", qname, "'>",
                 paste(options, collapse = ""),
                 "</div>\n")
  
  # PDF format (no changes here)
  pdf_opts <- sprintf("* (%s) %s  ", LETTERS[seq_along(opts2)], opts2)
  pdf <- paste0("\n\n", paste(pdf_opts, collapse = "\n"), "\n\n")
  
  # Check the output format and return the appropriate version
  out_fmt <- knitr::opts_knit$get("out.format")
  pandoc_to <- knitr::opts_knit$get("rmarkdown.pandoc.to")
  
  add_backslashes( ifelse((is.null(out_fmt) & is.null(pandoc_to)) ||
                            isTRUE(out_fmt == "html") ||
                            isTRUE(pandoc_to == "html"),
                          html, pdf))
  
  
 
}

```

<!-- JavaScript -->

```{=html}
<script type="text/javascript">
function toggleAlert(event, message, type) {
  var alertBox = event.target.nextElementSibling; // Select the alert box next to the clicked button
  var alertMessage = alertBox.querySelector(".alertMessage");
  var alertType = alertBox.querySelector(".alertType");

  if (alertBox.style.display === "block") {
    alertBox.style.display = "none"; // Hide the alert box if it's already visible
  } else {
    alertMessage.innerHTML = message;
    alertType.innerHTML = (type === 'hint') ? '‚ùì Indice' : 'üí° Explication';

    // Change style based on type (yellow for hint, green for explanation)
    alertBox.style.backgroundColor = (type === 'hint') ? '#FFEDA3' : '#C0EDC2';  
    alertBox.style.borderColor = (type === 'hint') ? '#E5B800' : '#388E3C';  
    alertBox.style.display = "block";  // Show the alert

    MathJax.typesetPromise([alertMessage]);  // Re-render math with MathJax v3
  }
}
</script>
```

<!-- CSS for Styling -->

```{=html}
<style>
/* Custom styles for the buttons */
.custom-button {
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  color: black;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.1s ease;
}

/* Green button for Explanation */
.explanation {
  background: #C0EDC2; /* Green */
  border: 2px solid #388E3C; /* Slightly darker green */
}

.explanation:hover {
  background: #388E3C; /* Darker green */
  transform: scale(1.08);
}

/* Yellow button for Hint */
.hint {
  background: #FFEDA3; /* Yellow */
  border: 2px solid #E5B800; /* Slightly darker yellow */
}

.hint:hover {
  background: #E5B800; /* Darker yellow */
  transform: scale(1.08);
}

/* Custom styles for the alert box */
.alert {
  padding: 15px;
  color: black;
  margin-top: 10px; /* Ensure spacing between button and alert */
  border-radius: 10px;
  border: 2px solid;
  font-size: 16px;
  width: fit-content; /* Prevent full-width alerts */
}
</style>
```

<!-- MathJax for Rendering Math -->

```{=html}
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js">
</script>
```






## Question 10

Pour la distribution standard normale \\(\\mathcal{N}(0,1)\\), combien vaut \\(\\Phi(0)\\)?

```{r}
opts <- c(
   "\\(0\\)",
   "\\(1\\)",
    answer = "\\(0.50\\)",
   "\\(-1\\)"
)

```

```{r, results='asis'}
cat(longmcq2(opts))
```

<button class="custom-button hint" onclick="toggleAlert(event, 'Consultez la table de la fonction cumulative de densit√© de la distribution standard normale.', 'hint')">
‚ùì Indice
</button>
<div class="alert alert-info" style="display: none;">
  <strong class="alertType"></strong>: <span class="alertMessage"></span>
</div>

<div style="margin-top: 4px;"></div>

<button class="custom-button explanation" onclick="toggleAlert(event, 'Pour la distribution standard normale \\(\\mathcal{N}(0,1)\\), \\(\\Phi(0) = 0.5\\). \\(0\\) correspond √† la moyenne et √† la m√©diane de la distribution et ainsi, la probabilit√© qu\'une variable al√©atoire distribu√©e selon la distribution standard normale soit plus petite ou √©gale √† \\(0\\) est de \\(0.5\\).', 'explanation')">
üí° Explication
</button>
<div class="alert alert-info" style="display: none;">
  <strong class="alertType"></strong>: <span class="alertMessage"></span>
</div>










## Question 11

Soit  \\(X \\sim \\mathcal{N}(0,1)\\), √† quoi correspond \\(P(X>0)\\)?

```{r}
opts <- c(
   "\\(0\\)",
     answer = "\\(0.50\\)",
   "\\(1\\)",
  
   "\\(-1\\)"
)

```

```{r, results='asis'}
cat(longmcq2(opts))
```

<button class="custom-button hint" onclick="toggleAlert(event, 'Consultez la table de la fonction cumulative de densit√© de la distribution standard normale et calculez le compl√©ment.', 'hint')">
‚ùì Indice
</button>
<div class="alert alert-info" style="display: none;">
  <strong class="alertType"></strong>: <span class="alertMessage"></span>
</div>

<div style="margin-top: 4px;"></div>

<button class="custom-button explanation" onclick="toggleAlert(event, 'Soit \\(X \\sim \\mathcal{N}(0,1)\\), \\(P(X>0) = 1- \\Phi(0) = 1- 0.5 = 0.5\\).', 'explanation')">
üí° Explication
</button>
<div class="alert alert-info" style="display: none;">
  <strong class="alertType"></strong>: <span class="alertMessage"></span>
</div>





## Question 12

Soit  \\(X \\sim \\mathcal{N}(0,1)\\), √† quoi correspond \\(P(X>1)\\)? Les probabilit√©s sont arrondies au dixi√®me le plus proche.

```{r}
opts <- c(
       answer = "\\(0.16\\)",
   "\\(0.22\\)",

   "\\(0.84\\)",
  
   "\\(0.75\\)"
)

```

```{r, results='asis'}
cat(longmcq2(opts))
```

<button class="custom-button hint" onclick="toggleAlert(event, 'Consultez la table de la fonction cumulative de densit√© de la distribution standard normale et calculez le compl√©ment.', 'hint')">
‚ùì Indice
</button>
<div class="alert alert-info" style="display: none;">
  <strong class="alertType"></strong>: <span class="alertMessage"></span>
</div>

<div style="margin-top: 4px;"></div>

<button class="custom-button explanation" onclick="toggleAlert(event, 'Soit \\(X \\sim \\mathcal{N}(0,1)\\), \\(P(X>1) = 1- \\Phi(1) = 1- 0.8413447 = 0.1586553 \\approx 0.16\\).', 'explanation')">
üí° Explication
</button>
<div class="alert alert-info" style="display: none;">
  <strong class="alertType"></strong>: <span class="alertMessage"></span>
</div>







---

**Analyse des √©carts dans la production d‚Äôune usine**

Une usine de fabrication produit des pi√®ces m√©caniques dont la dimension doit √™tre exactement de \\(0\\) mm par rapport √† une r√©f√©rence. Cependant, des variations autour de cette valeur existent en raison du processus de fabrication. L‚Äô√©cart par rapport √† la r√©f√©rence suit une loi normale standard \\(\\mathcal{N}(0,1)\\) (esp√©rance de \\(0\\) et √©cart-type de \\(1\\)), o√π les valeurs n√©gatives indiquent des pi√®ces plus petites que pr√©vu, et les valeurs positives indiquent des pi√®ces plus grandes.

## Question 13

Une pi√®ce est consid√©r√©e comme trop grande si son √©cart d√©passe \\(1.4\\) mm. Quelle est la probabilit√© qu‚Äôune pi√®ce s√©lectionn√©e au hasard soit trop grande ?

```{r}
opts <- c(
   "\\(0.9192\\)",
   "\\(0.4032\\)",
   answer = "\\(0.0808\\)",
   "\\(0.5000\\)"
)

```

```{r, results='asis'}
cat(longmcq2(opts))
```


<button class="custom-button hint" onclick="toggleAlert(event, 'Utilisez la table de la distribution cumulative de la loi normale standard et pensez √† calculer la compl√©mentaire.', 'hint')"> ‚ùì Indice </button> <div class="alert alert-info" style="display: none;"> <strong class="alertType"></strong>: <span class="alertMessage"></span> </div> <div style="margin-top: 4px;"></div> 

<button class="custom-button explanation" onclick="toggleAlert(event, 'D‚Äôapr√®s la table de la loi normale standard, \\(P(Z > 1.4) = 1 - \\Phi(1.4) = 1 - 0.9192 = 0.0808\\).', 'explanation')"> üí° Explication </button> <div class="alert alert-info" style="display: none;"> <strong class="alertType"></strong>: <span class="alertMessage"></span> </div>



## Question 14

Une pi√®ce est consid√©r√©e comme trop petite si son √©cart est inf√©rieur √† -\\(1.1\\) mm. Quelle est la probabilit√© qu‚Äôune pi√®ce s√©lectionn√©e au hasard soit trop petite ?

```{r}
opts <- c(
   answer = "\\(0.1357\\)",
   "\\(0.5000\\)",
   "\\(0.8849\\)",
   "\\(0.2119\\)"
)

```

```{r, results='asis'}
cat(longmcq2(opts))
```

<button class="custom-button hint" onclick="toggleAlert(event, 'Utilisez la table de la distribution cumulative de la loi normale standard.', 'hint')"> ‚ùì Indice </button> <div class="alert alert-info" style="display: none;"> <strong class="alertType"></strong>: <span class="alertMessage"></span> </div> <div style="margin-top: 4px;"></div> 

<button class="custom-button explanation" onclick="toggleAlert(event, 'On utilise la table de la loi normale standard : \\(P(Z < -1.1) = \\Phi(-1.1) = 0.1357\\).', 'explanation')"> üí° Explication </button> <div class="alert alert-info" style="display: none;"> <strong class="alertType"></strong>: <span class="alertMessage"></span> </div>



## Question 15

Les pi√®ces sont consid√©r√©es comme conformes si leur √©cart est compris entre \\(-0.9\\) mm et \\(1.2\\) mm. Quelle est la probabilit√© qu‚Äôune pi√®ce soit conforme ?

```{r}
opts <- c(
   "\\(0.5000\\)",
   answer = "\\(0.7124\\)",
   "\\(0.2876\\)",
   "\\(0.8413\\)"
)

```

```{r, results='asis'}
cat(longmcq2(opts))
```

<button class="custom-button hint" onclick="toggleAlert(event, 'Utilisez la table de la distribution cumulative de la loi normale standard et soustrayez deux probabilit√©s.', 'hint')"> ‚ùì Indice </button> <div class="alert alert-info" style="display: none;"> <strong class="alertType"></strong>: <span class="alertMessage"></span> </div> <div style="margin-top: 4px;"></div> 

<button class="custom-button explanation" onclick="toggleAlert(event, 'On utilise \\(P(a < Z < b) = \\Phi(b) - \\Phi(a)\\) avec \\(a = -0.9\\) et \\(b = 1.2\\). On trouve \\(P(-0.9 < Z < 1.2) = 0.8849 - 0.1726 = 0.7124\\).', 'explanation')"> üí° Explication </button> <div class="alert alert-info" style="display: none;"> <strong class="alertType"></strong>: <span class="alertMessage"></span> </div>